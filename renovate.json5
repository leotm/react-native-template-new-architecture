// https://docs.renovatebot.com/presets-default
{
  "extends": [
    // bundle presets
    "config:best-practices", // https://docs.renovatebot.com/presets-config/#configbest-practices
    // raw atomic presets
    ":prHourlyLimitNone",
    ":maintainLockFilesWeekly"
  ],
  // https://docs.renovatebot.com/configuration-options/#postupdateoptions
  "postUpdateOptions": ["yarnDedupeHighest"],
  "timezone": "Europe/London",
  "packageRules": [
    // https://docs.renovatebot.com/presets-group
    // https://docs.renovatebot.com/presets-monorepo
    {
      // e.g. eslint, eslint-plugin-react-native, eslint-config-airbnb-typescript
      "matchPackageNames": ["/eslint/"],
      "addLabels": ["devDependencies", "linting"]
    },
    {
      // TODO: upstream group:react-nativeMonorepo
      // TODO: upstream monorepo:react-native
      "groupName": "react-native monorepo",
      "matchSourceUrls": ["github.com/facebook/react-native"],
      "addLabels": ["dependencies", "react native"],
      "automerge": false
    },
    {
      "matchPackageNames": ["/react-native/"],
      "addLabels": ["react native"]
    },
    {
      // e.g. @react-native-community/datetimepicker, @react-native-community/image-editor, @react-native-community/netinfo
      "matchPackageNames": ["@react-native-community"],
      "addLabels": ["community"] // do not add "dependencies" label (e.g. @react-native-community/cli falls under "devDependencies")
    },
    {
      "groupName": "@lavamoat/allow-scripts",
      "matchPackageNames": [
        // https://lavamoat.github.io/guides/allow-scripts/#setup
        // https://github.com/LavaMoat/LavaMoat/tree/main/packages/allow-scripts#setup
        // https://github.com/LavaMoat/LavaMoat/blob/main/packages/allow-scripts/src/setup.js#L133-L134
        "@lavamoat/preinstall-always-fail",
        "@lavamoat/allow-scripts"
      ],
      "addLabels": ["dependencies", "lavamoat"]
    },
    {
      // https://github.com/actions/runner-images
      // https://github.com/actions/partner-runner-images
      "matchManagers": ["github-actions"],
      // https://github.com/renovatebot/renovate/tree/main/lib/modules/datasource/github-runners#unstable-runners
      "ignoreUnstable": false
    },
    {
      "groupName": "swc monorepo",
      "addLabels": ["devDependencies", "swc", "transpiling"],
      "matchSourceUrls": ["github.com/swc-project/swc"]
    }
  ],
  "vulnerabilityAlerts": {
    "addLabels": ["security"]
  }
}
